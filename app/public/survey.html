<html>
<head>
<meta charset="UTF-8">
<title>FriendFinder</title>
                              
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
<script src="https://code.jquery.com/jquery.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>   
                       
<script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>
              
</head>
      
<body>
      
<div class="container">
      
<h2>Survey Questions</h2>

<h3><strong>About You</strong></h3>
<h4>Name (Required)</h4>
<input type="text" id="name" required="">
      
<h4>Link to Photo Image (Required)</h4>
<input type="text" id="photo" required="">

<hr>
      
<h3><strong>Question 1</strong></h3>
<h4>You are an ardent supporter of banning plastic straws</h4>
<select id="q1">
    <option value="">Pick a number</option>
    <option value="1">1 (Strongly Disagree)</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5 (Strongly Agree)</option>
</select>
      
<h3><strong>Question 2</strong></h3>
<h4>You do not 'see race'</h4>
<select id="q2">
    <option value="">Pick a number</option>
    <option value="1">1 (Strongly Disagree)</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5 (Strongly Agree)</option>
</select>

<h3><strong>Question 3</strong></h3>
<h4>You are dismayed at the political future of the United States</h4>
<select id="q3">
    <option value="">Pick a number</option>
    <option value="1">1 (Strongly Disagree)</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5 (Strongly Agree)</option>
</select>

<h3><strong>Question 4</strong></h3>
<h4>You would rather watch a 90's classic rather than a new sci-fi hit</h4>
<select id="q4">
    <option value="">Pick a number</option>
    <option value="1">1 (Strongly Disagree)</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5 (Strongly Agree)</option>
</select>

<h3><strong>Question 5</strong></h3>
<h4>You add milk to your bowl before the cereal</h4>
<select id="q5">
    <option value="">Pick a number</option>
    <option value="1">1 (Strongly Disagree)</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5 (Strongly Agree)</option>
</select>

<h3><strong>Question 6</strong></h3>
<h4>You prefer Windows to Mac</h4>
<select id="q6">
    <option value="">Pick a number</option>
    <option value="1">1 (Strongly Disagree)</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5 (Strongly Agree)</option>
</select>

<h3><strong>Question 7</strong></h3>
<h4>You think Ross was justified in saying "they were on a break"</h4>
<select id="q7">
    <option value="">Pick a number</option>
    <option value="1">1 (Strongly Disagree)</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5 (Strongly Agree)</option>
</select>

<h3><strong>Question 8</strong></h3>
<h4>You don't consider 'blue cheese' to be an edible product</h4>
<select id="q8">
    <option value="">Pick a number</option>
    <option value="1">1 (Strongly Disagree)</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5 (Strongly Agree)</option>
</select>

<h3><strong>Question 9</strong></h3>
<h4>You are an advocate for "net neutrality"</h4>
<select id="q9">
    <option value="">Pick a number</option>
    <option value="1">1 (Strongly Disagree)</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5 (Strongly Agree)</option>
</select>

<h3><strong>Question 10</strong></h3>
<h4>You would rather build your own IKEA furniture than buy pre-made</h4>
<select id="q10">
    <option value="">Pick a number</option>
    <option value="1">1 (Strongly Disagree)</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5 (Strongly Agree)</option>
</select>
      
<br>
<br>
    
<button type="submit" class="btn btn-primary" id="submit">
Submit</button>
      
<hr>

<footer class="footer">
    <div class="container">
    <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/shintakuix/friendfinder">GitHub Repo</a></p>
    </div>
</footer>
      
</div>




<div id="bestFriendModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h3 class="modal-title">Your New Best Friend</h1>
            </div>
            <div class="modal-body">
                <h2 id="bestFriend"></h2>
                <img id="bestFriendPhoto" src="#">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>


<div id="results-modal" class="modal fade" role="dialog">
    <div class="modal-dialog">

    <div class="modal-content">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">Ã—</button>
        <h2 class="modal-title"><strong>Best Match</strong></h2>
    </div>
        <div class="modal-body">
        <h2 id="match-name"></h2>
        <img id="match-img" height="200px" width="200px" src="https://ichef.bbci.co.uk/news/976/media/images/83351000/jpg/_83351965_explorer273lincolnshirewoldssouthpicturebynicholassilkstone.jpg" alt="">
        </div>
        <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
    </div>
    
    </div>
</div>



<script type="text/javascript">
      
$("#submit").on("click", function(event) {
    event.preventDefault();
var allAnswers = [];

allAnswers.push($("#name").val());
allAnswers.push($("#photo").val());
allAnswers.push($("#q1").val());
allAnswers.push($("#q2").val());
allAnswers.push($("#q3").val());
allAnswers.push($("#q4").val());
allAnswers.push($("#q5").val());
allAnswers.push($("#q6").val());
allAnswers.push($("#q7").val());
allAnswers.push($("#q8").val());
allAnswers.push($("#q9").val());
allAnswers.push($("#q10").val());

for (i = 0 ; i < allAnswers.length ; i++){
if (allAnswers[i] === "") {
    alert("Answer all the questions!!");
    return;
}
else {
    var answers = {
        name: $("#name").val(),
        photo: $("#photo").val(),
        scores : [
        $("#q1").val(),
        $("#q2").val(),
        $("#q3").val(),
        $("#q4").val(),
        $("#q5").val(),
        $("#q6").val(),
        $("#q7").val(),
        $("#q8").val(),
        $("#q9").val(),
        $("#q10").val()
        ],
        total : parseInt($("#q1").val())+
        parseInt($("#q2").val())+
        parseInt($("#q3").val())+
        parseInt($("#q4").val())+
        parseInt($("#q5").val())+
        parseInt($("#q6").val())+
        parseInt($("#q7").val())+
        parseInt($("#q8").val())+
        parseInt($("#q9").val())+
        parseInt($("#q10").val())
    };
}}
$.post("/api/friends", answers, function(data) {
console.log(data);
$("#match-name").text(data.name);
$("#match-img").attr("src", data.photo);


$("#results-modal").modal("toggle"); 

});
console.log (answers);

})
</script>     
      
</body>
</html>